# Griddle

The Griddle project is a set of plugins that empower Gradle to understand how to manage and generate thrift files.  These plugins provide features such as

* Exporting the idl of a project so that any consumer can generate that idl in the language of its choice with the generator of its choice
* Allowing idl files in one project to `include` idl files that live in another gradle subproject, in another gradle project, or in any arbitrary jar
* Easy, portable generation using Twitter's Scrooge generator or the default Apache Thrift generator

## Plugins

### The Idl Plugin

The `idl` plugin enables Gradle to understand and manage idl based dependencies and provides basic support for projects that want to generate thrift files.  It provides 

* Two new Configurations
* Three new tasks: `idlJar`, `copyDependencyIdl`, and `copyIncludedIdl`
* Options to control the directories containing thrift files or used by the thrift generation process

#### Configurations

##### idl

The `idl` configuration indicates that the dependency (and/or one or more of its transitive dependencies) has exported thrift files in its jars, and those thrift files should be generated by a consuming project.  All `idl` dependencies are automatically added to the `compile` configuration

##### compiledIdl

The `compiledIdl` configuration, much like the `idl` configuration, indicates that the dependency and/or one or more of its transitive dependencies) has exported thrift files in its jars.  However unlike the `idl` configuration, those thrift files have already been generated.  This is used to indicate dependencies whose exported thrift files may be `include`ed by the dependent project.  All `compiledIdl` depenencies are added to the `compile` configuration.

#### Tasks

##### idlJar

By default, all source thrift files of projects using the `idl` plugin will be included in the default jar produced by the project.  In the event that you want a jar containing _only_ the thrift files of the project, you may use the `idlJar` task.  It will create a jar with the classifier `idl` containing only the source thrift files of the project.

##### copyDependencyIdl and copyIncludedIdl

These tasks are responsible for copying idl from `idl` and `compiledIdl` dependencies respectively into a defined location so that generators can generate or include them.  You should never need to manually configure these tasks.  Instead, utilize the configuration options below.

#### Configuration Options

The `idl` plugin adds four configuration options directly to each gradle project using the `idl` plugin.

##### thriftSrcDir

This option indicates the directory containing the source thrift files for the project.  It defaults to "src/main/thrift".  Any directory structure under thriftSrcDir will be preserved when the thrift files are exported in the project's jar files.

##### thriftGenDir

This option indicates the directory that generators should generate real source files into.  It defaults to "build/gen-src".  

##### dependencyIdlDir
##### includedIdlDir

### The Thrift Plugin

### The Scrooge and Scrooge-Java plugins

## Interaction With Idea Plugin


## Sample Usages